webpackJsonp([1],{"3Tor":function(t,e,n){"use strict";var i=n("rVsN"),o=n.n(i);window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var s=function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,n=window.pageYOffset||document.body.scrollTop,i=n,a=t-i,r=e,c=void 0;return new o.a(function(n,o){var l=function o(l){c||(c=l);var u=l-c;if(u<e){var d=s(u,i,a,r);document.body.scrollTop=d,document.documentElement.scrollTop=d,window.requestAnimationFrame(o)}else document.body.scrollTop=t,document.documentElement.scrollTop=t,n(t)};window.requestAnimationFrame(l)})},r=function(t){return t="number"==typeof t?t:800,a(0,t)},c=function(t,e,n){var i=t.getBoundingClientRect().top+(window.pageYOffset||document.body.scrollTop)-(document.documentElement.clientTop||0);return a(i-(n||0),e)};e.a={methods:{scrollTo:a,scrollToTop:r,scrollToEl:c}}},"6QzK":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-nav-wrapper"},[n("ul",{ref:"ul",class:["vue-nav",t.isDrag?"isDraging":"noDraging",{sortable:"sortable"===t.mode}]},[t._l(t.data,function(e,i){return[t.isDrag&&i===t.dragId?n("li",{key:i,class:["nav-item","drag-block"],style:t.dragStyle},[t._v("\n                    "+t._s(e.name)+"\n                ")]):n("li",{key:i,class:["nav-item",{active:"navigation"===t.mode&&i===t.current}],on:{click:function(e){t.setActive(i)},mousedown:function(e){t.dragStart(e,i)}}},[n("div",{staticClass:"nav-item-name"},[t._v("\n                        "+t._s(e.name)+"\n                    ")])])]}),t._v(" "),t.isInScope&&"navigation"===t.mode?n("li",{staticClass:"pointer-block",style:{top:t.current*t.height+"px"}}):t._e(),t._v(" "),n("li",{staticClass:"nav-item",on:{click:t.toggleMode}},[t._v("排序")]),t._v(" "),n("li",{staticClass:"nav-item",on:{click:t.scrollToTop}},[t._v("回到顶部")])],2)])},o=[],s={render:i,staticRenderFns:o};e.a=s},"8t1C":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("ul",{staticClass:"section"},t._l(t.navs,function(e,i){return n("li",{key:e.id,class:e.bgColor,style:t.getWinH,attrs:{id:"section"+i}},[t._v("\n            "+t._s(e.title)+"\n        ")])})),t._v(" "),t._m(0),t._v(" "),n("vue-nav",{attrs:{options:t.options}})],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("p",[t._v("超出导航范围啦")])])}],s={render:i,staticRenderFns:o};e.a=s},DICR:function(t,e,n){"use strict";var i=n("HxxZ");e.a={name:"app",data:function(t){return{navs:[{id:Math.random()*+new Date,title:"JavaScript",bgColor:"bg-blue"},{id:Math.random()*+new Date,title:"HTML",bgColor:"bg-roseate"},{id:Math.random()*+new Date,title:"CSS",bgColor:"bg-light-green"},{id:Math.random()*+new Date,title:"Node.js",bgColor:"bg-light-black"},{id:Math.random()*+new Date,title:"Vue.js",bgColor:"bg-pink"},{id:Math.random()*+new Date,title:"SASS",bgColor:"bg-brown"},{id:Math.random()*+new Date,title:"Eslint",bgColor:"bg-yellow"}]}},components:{vueNav:i.a},computed:{options:function(){var t={offset:0,bindData:this.navs,backToTop:0};return t.data=this.navs.map(function(t,e){return{name:t.title,target:"section"+e}}),t},getWinH:function(){return{height:window.innerHeight+"px"}}}}},EWB9:function(t,e){},HxxZ:function(t,e,n){"use strict";function i(t){n("EWB9")}var o=n("vvoB"),s=n("6QzK"),a=n("46Yf"),r=i,c=a(o.a,s.a,!1,r,"data-v-1869600f",null);e.a=c.exports},M93x:function(t,e,n){"use strict";function i(t){n("qSmT")}var o=n("DICR"),s=n("8t1C"),a=n("46Yf"),r=i,c=a(o.a,s.a,!1,r,null,null);e.a=c.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("MVSX"),o=n("M93x");i.a.config.productionTip=!1,new i.a({el:"#app",template:"<App/>",components:{App:o.a}})},X2Oc:function(t,e){var n=function(t,e){var n=e;return function(t,e){if(!t||t.length<=1)return t;for(var n=Math.floor(t.length/2),i=t.splice(n,1),o=i[0][e],s=[],a=[],r=0;r<t.length;r++)t[r][e]<o?s.push(t[r]):a.push(t[r]);return arguments.callee(s,e).concat(i,arguments.callee(a,e))}(t,n)},i=function(t){var e=void 0,n=void 0,i=void 0;return e=t.getBoundingClientRect()?t.getBoundingClientRect().top:0,n=document.documentElement.clientTop||document.body.clientTop||0,i=document.documentElement.offsetTop||window.pageYOffset,e+i-n};t.exports={sortArray:n,getOffsetTop:i}},qSmT:function(t,e){},vvoB:function(t,e,n){"use strict";var i=n("kfHR"),o=n.n(i),s=n("3Tor"),a=n("X2Oc");n.n(a);e.a={name:"vue-nav",data:function(t){return{mode:"navigation",data:[],time:800,scrollTop:0,isDrag:!1,screenHeight:0,left:0,top:0,x:0,y:0,offsetX:0,offsetY:0,isClickScroll:!1,targetValue:0,dragId:0,height:50,pageIndex:0}},mixins:[s.a],props:{options:{type:Object}},mounted:function(){this.init()},computed:{active:function(){if(!this.isInScope)return!1;for(var t=void 0,e=0,n=this.data.length;e<n;e++)this.scrollTop>=this.data[e].offsetTop-this.offset&&(t=e);return t},current:function(){return this.isClickScroll?this.targetValue:this.active},offset:function(){return this.options.offset||100},isInScope:function(){return!(!this.data.length||this.scrollTop<0||this.scrollTop>this.data[this.data.length-1].offsetTop+this.data[this.data.length-1].height)},exchangeId:function(){var t=Math.floor(this.y/this.height);return t>this.data.length-1?t=this.data.length-1:t<0&&(t=0),t},dragStyle:function(){return{left:this.x+"px",top:this.y+"px"}}},watch:{options:{deep:!0,handler:function(t,e){this.getData()}}},methods:{init:function(){this.dragId=this.options.bindData[0].id,this.getData(),this.addEvent(),this.screenHeight=window.screen.availHeight,this.left=this.$refs.ul.getBoundingClientRect().left,this.top=this.$refs.ul.getBoundingClientRect().top},addEvent:function(){document.addEventListener("scroll",this.throttle(this.scroll),!1),document.addEventListener("mouseup",this.dragEnd,!1),document.addEventListener("mouseleave",this.dragEnd,!1),document.addEventListener("mousemove",this.dragMove,!1)},removeEvent:function(){document.removeEventListener("scroll",this.throttle(this.scroll),!1),document.removeEventListener("mouseup",this.dragEnd,!1),document.removeEventListener("mouseleave",this.dragEnd,!1),document.removeEventListener("mousemove",this.dragMove,!1)},getData:function(){this.data=Object(a.sortArray)(o()(this.options.data,function(t){var e=document.getElementById(t.target);e||console.error("请确保已传入id");var n=Object(a.getOffsetTop)(e);return{name:t.name,el:e,offsetTop:n,height:e.offsetHeight}}),"offsetTop")},scroll:function(t){this.scrollTop=window.pageYOffset||document.body.scrollTop},throttle:function(t,e){var n=t,i=void 0,o=!0;return function(){var t=arguments,s=this;if(o&&(n.apply(s,t),o=!1),i)return!1;i=setInterval(function(){clearInterval(i),i=null,n.apply(s,t)},e||200)}},setActive:function(t){var e=this;if(t===this.current)return!1;var n=this.data[t].el,i=0;this.isClickScroll=!0,this.targetValue=t,i++,this.scrollToEl(n,this.time,this.offset||0).then(function(t){0===--i&&(e.isClickScroll=!1)})},toggleMode:function(){this.mode="navigation"==this.mode?"sortable":"navigation"},getPos:function(t){this.x=t.clientX-this.left-this.offsetX,this.y=t.clientY-this.top-this.offsetY},dragStart:function(t,e){"navigation"!==this.mode&&(this.isDrag=!0,this.dragId=e,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.getPos(t))},dragMove:function(t){this.isDrag&&this.getPos(t),t.preventDefault()},dragEnd:function(){this.isDrag&&(this.isDrag=!1,this.exchangeId!==this.dragId?this.options.bindData.splice(this.exchangeId,0,this.options.bindData.splice(this.dragId,1)[0]):this.setActive(this.dragId))}},beforeDestroy:function(){this.removeEvent()}}}},["NHnr"]);